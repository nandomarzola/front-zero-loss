<div class="settings-container">
  <header class="page-header">
    <div class="title-group">
      <h1>ConfiguraÃ§Ãµes Fiscais</h1>
      <p>Ajuste as taxas para que o cÃ¡lculo de lucro seja o mais preciso possÃ­vel.</p>
    </div>
  </header>

  <div class="card settings-card" *ngIf="!isLoading()">
    <div class="platform-selector">
      <div class="platform-item active">
        <span class="icon">ðŸ§¡</span> Shopee
      </div>
      <div class="platform-item disabled">
        <span class="icon">ðŸ’™</span> Mercado Livre (Breve)
      </div>
    </div>

    <div class="settings-grid">
      <div class="section">
        <h3>Taxas da Plataforma</h3>
        <div class="input-group">
          <label>ComissÃ£o do Marketplace (%)</label>
          <input type="number" [(ngModel)]="config().commission_rate" placeholder="Ex: 20">
        </div>
        <div class="input-group">
          <label>Taxa Fixa por Item (R$)</label>
          <input type="number" [(ngModel)]="config().fixed_fee" placeholder="Ex: 4.00">
        </div>
      </div>

      <div class="section">
        <h3>Impostos e OperaÃ§Ã£o</h3>
        <div class="input-group">
          <label>Imposto / Simples Nacional (%)</label>
          <input type="number" [(ngModel)]="config().tax_rate" placeholder="Ex: 6.0">
        </div>
        <div class="input-group">
          <label>Custo de Embalagem/Insumos (R$)</label>
          <input type="number" [(ngModel)]="config().packaging_cost" placeholder="Ex: 1.20">
        </div>
      </div>
    </div>

    <div class="actions">
      <button class="btn-save" (click)="save()" [disabled]="isSaving()">
        {{ isSaving() ? 'Salvando...' : 'ðŸ’¾ Salvar ConfiguraÃ§Ãµes' }}
      </button>
    </div>
  </div>

  <div *ngIf="isLoading()" class="loading-state">
    <div class="spinner"></div>
    <p>Carregando configuraÃ§Ãµes...</p>
  </div>
</div>